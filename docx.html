<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Infos de connexion</title>
<style>
  body {
    margin:0; padding:0;
    background: black;
    color: white;
    font-weight: bold;
    font-family: Arial, sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    user-select: none;
  }
  #info-list {
    font-size: 2rem;
    line-height: 2.5rem;
    text-align: center;
    max-width: 90vw;
  }
</style>
</head>
<body>
  <div id="info-list"></div>

<script>
async function getIPData() {
  try {
    // 1. IP publique
    const ipRes = await fetch('https://api.ipify.org?format=json');
    const ipJson = await ipRes.json();
    const ip = ipJson.ip;

    // 2. DonnÃ©es gÃ©o + ISP via ipwhois
    const geoRes = await fetch(`https://ipwhois.app/json/${ip}`);
    const geoJson = await geoRes.json();

    if (geoJson.success === false) throw new Error("Erreur API IP");

    return {
      ip: geoJson.ip,
      country: geoJson.country,
      org: geoJson.org || geoJson.isp || "Inconnu"
    };
  } catch {
    return { ip: "Non disponible", country: "-", org: "-" };
  }
}

function getBrowserInfo() {
  return {
    userAgent: navigator.userAgent,
    platform: navigator.platform,
    language: navigator.language,
    languages: navigator.languages ? navigator.languages.join(', ') : navigator.language,
    cookieEnabled: navigator.cookieEnabled ? "oui" : "non",
    doNotTrack: navigator.doNotTrack || navigator.msDoNotTrack || window.doNotTrack || "non dÃ©fini",
    screenResolution: `${window.screen.width} x ${window.screen.height}`,
    colorDepth: window.screen.colorDepth + " bits",
    pixelRatio: window.devicePixelRatio,
    cpuCores: navigator.hardwareConcurrency || "inconnu",
    ram: navigator.deviceMemory ? navigator.deviceMemory + " Go" : "inconnu",
    timezone: Intl.DateTimeFormat().resolvedOptions().timeZone || "inconnu",
    darkMode: window.matchMedia('(prefers-color-scheme: dark)').matches ? "oui" : "non",
    online: navigator.onLine ? "oui" : "non",
    touchSupport: ('ontouchstart' in window) ? "oui" : "non",
    webGLRenderer: getWebGLRenderer() || "inconnu",
    localTime: new Date().toLocaleTimeString(),
    fullDate: new Date().toLocaleString()
  };
}

function getWebGLRenderer() {
  try {
    const canvas = document.createElement('canvas');
    const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
    if (!gl) return null;
    const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
    if (debugInfo) {
      return gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL);
    }
    return null;
  } catch {
    return null;
  }
}

async function displayInfos() {
  const infoList = document.getElementById('info-list');
  const ipData = await getIPData();
  const browserInfo = getBrowserInfo();

  const infos = [
    `ğŸŒ IP : ${ipData.ip}`,
    `ğŸŒ Pays : ${ipData.country}`,
    `ğŸ“¡ Fournisseur : ${ipData.org}`,
    `ğŸ§­ Navigateur (User Agent) : ${browserInfo.userAgent}`,
    `ğŸ–¥ï¸ SystÃ¨me (plateforme) : ${browserInfo.platform}`,
    `ğŸ—£ï¸ Langue principale : ${browserInfo.language}`,
    `ğŸŒ Langues prÃ©fÃ©rÃ©es : ${browserInfo.languages}`,
    `ğŸª Cookies activÃ©s : ${browserInfo.cookieEnabled}`,
    `ğŸš« Do Not Track : ${browserInfo.doNotTrack}`,
    `ğŸ–¼ï¸ RÃ©solution Ã©cran : ${browserInfo.screenResolution}`,
    `ğŸ¨ Profondeur couleur : ${browserInfo.colorDepth}`,
    `ğŸ“± Pixel Ratio : ${browserInfo.pixelRatio}`,
    `ğŸ§  CPU Cores : ${browserInfo.cpuCores}`,
    `ğŸ’¾ RAM approximative : ${browserInfo.ram}`,
    `ğŸ•’ Fuseau horaire : ${browserInfo.timezone}`,
    `ğŸŒ™ Mode sombre prÃ©fÃ©rÃ© : ${browserInfo.darkMode}`,
    `ğŸ“¶ En ligne : ${browserInfo.online}`,
    `ğŸ¤ Support tactile : ${browserInfo.touchSupport}`,
    `ğŸ® GPU (WebGL Renderer) : ${browserInfo.webGLRenderer}`,
    `â° Heure locale : ${browserInfo.localTime}`,
    `ğŸ“… Date complÃ¨te : ${browserInfo.fullDate}`
  ];

  let i = 0;
  const delay = 1200; // ms entre chaque info

  function showNext() {
    if (i < infos.length) {
      const line = document.createElement('div');
      line.textContent = infos[i];
      infoList.appendChild(line);
      i++;
      setTimeout(showNext, delay);
    }
  }

  showNext();
}

displayInfos();
</script>
</body>
</html>
